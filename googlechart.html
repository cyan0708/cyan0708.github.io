<!doctype html>
<html lang="ja">

<head>
    <title>cyan0708のgooglechart</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <style>
        .cover {
            background: url(img/bg1.png);
            background-size: cover;
        }

    </style>
</head>

<body>
    <header>
        <div class="cover text-white text-center py-5">
            <h1 class="display-4 mb-4">Google Chartを使ったデータ分析</h1>
        </div>
    </header>

    <main>
       <h4 class="alert alert-info">各年度の車種別生産台数の推移</h4>

        <div id="target01"></div>
        <script src="https://www.gstatic.com/charts/loader.js"></script>
        <script>
            (function() {
                'use strict';

                function drawChart() {
                    var target = document.getElementById('target01');
                    var data;
                    var options = {
                        title: '各年度ごとのトラック生産台数の推移',
                        width: 600,
                        height: 300,
                        isStacked: true
                    };
                    var chart = new google.visualization.BarChart(target01);
                    data = new google.visualization.arrayToDataTable([
                        ['年度', 'トラック生産台数'],
                        ['平成7年度', 1702447],
                        ['平成13年度', 1031790],
                        ['平成18年度', 1123755],
                        ['平成23年度', 822008],
                        ['平成28年度', 821614],
                    ]);

                    chart.draw(data, options);
                }
                google.charts.load('current', {
                    packages: ['corechart']
                });
                google.charts.setOnLoadCallback(drawChart);
            })();

        </script>

        <div id="target02"></div>
        <script src="https://www.gstatic.com/charts/loader.js"></script>
        <script>
            (function() {
                'use strict';

                function drawChart() {
                    var target = document.getElementById('target02');
                    var data;
                    var options = {
                        title: '各年度ごとのバス生産台数の推移',
                        width: 600,
                        height: 300,
                        isStacked: true
                    };
                    var chart = new google.visualization.BarChart(target02);
                    data = new google.visualization.arrayToDataTable([
                        ['年度', 'バス生産台数'],
                        ['平成7年度', 50493],
                        ['平成13年度', 59518],
                        ['平成18年度', 92881],
                        ['平成23年度', 111151],
                        ['平成28年度', 128025],
                    ]);

                    chart.draw(data, options);
                }
                google.charts.load('current', {
                    packages: ['corechart']
                });
                google.charts.setOnLoadCallback(drawChart);
            })();

        </script>
        <div id="target03"></div>
        <script src="https://www.gstatic.com/charts/loader.js"></script>
        <script>
            (function() {
                'use strict';

                function drawChart() {
                    var target = document.getElementById('target03');
                    var data;
                    var options = {
                        title: '各年度ごとの乗用車生産台数の推移',
                        width: 600,
                        height: 300,
                        isStacked: true
                    };
                    var chart = new google.visualization.BarChart(target03);
                    data = new google.visualization.arrayToDataTable([
                        ['年度', '乗用車生産台数'],
                        ['平成7年度', 6613862],
                        ['平成13年度', 6866510],
                        ['平成18年度', 8223592],
                        ['平成23年度', 6626928],
                        ['平成28年度', 6730714],
                    ]);

                    chart.draw(data, options);
                }
                google.charts.load('current', {
                    packages: ['corechart']
                });
                google.charts.setOnLoadCallback(drawChart);
            })();

        </script>
        <div id="target04"></div>
        <script src="https://www.gstatic.com/charts/loader.js"></script>
        <script>
            (function() {
                'use strict';

                function drawChart() {
                    var target = document.getElementById('target04');
                    var data;
                    var options = {
                        title: '各年度ごとの軽自動車生産台数の推移',
                        width: 600,
                        height: 300,
                        isStacked: true
                    };
                    var chart = new google.visualization.BarChart(target04);
                    data = new google.visualization.arrayToDataTable([
                        ['年度', '軽自動車生産台数'],
                        ['平成7年度', 1732845],
                        ['平成13年度', 1854291],
                        ['平成18年度', 2068215],
                        ['平成23年度', 1712704],
                        ['平成28年度', 1687091],
                    ]);

                    chart.draw(data, options);
                }
                google.charts.load('current', {
                    packages: ['corechart']
                });
                google.charts.setOnLoadCallback(drawChart);
            })();

        </script>
        <p>出典:<a href="https://www.e-stat.go.jp/stat-search/files?page=1&layout=datalist&toukei=00600330&tstat=000001078083&cycle=8&year=20161&month=0&result_back=1&second=1&second2=1">e-stat 自動車輸送統計調査 付表(２)総括表 自動車保有台数及び生産台数の推移</a></p>

        <div>
            <p>以上の4つのグラフは、およそ5年ごとの各年度の生産台数を車種別にあらわしたものです。
            バスを除いて、平成18年度から平成23年度にかけて生産台数が減っているのは、平成20年度に起こったリーマンショックによる影響であると推測されます。
            その中でもバスは、年度を追うごとに生産台数が増しており、その背景には、バスの主な用途たる旅客輸送と密接な関係にある、観光業に対するニーズの高まりがあると予想されます。</p>
        </div>

        <div id="target05"></div>
        <script src="https://www.gstatic.com/charts/loader.js"></script>
        <script>
            (function() {
                'use strict';

                function drawChart() {
                    var target = document.getElementById('target05');
                    var data;
                    var options = {
                        title: '各年度ごとの営業用バスの輸送人数',
                        width: 600,
                        height: 300,
                        isStacked: true
                    };
                    var chart = new google.visualization.ColumnChart(target05);
                    data = new google.visualization.arrayToDataTable([
                        ['年度', '乗合', '貸切'],
                        ['平成24年度', 4124997, 312256],
                        ['平成25年度', 4175831, 329359],
                        ['平成26年度', 4174821, 325342],
                        ['平成27年度', 4269867, 295343],
                        ['平成28年度', 4288516, 294437],

                    ]);

                    chart.draw(data, options);
                }
                google.charts.load('current', {
                    packages: ['corechart']
                });
                google.charts.setOnLoadCallback(drawChart);
            })();

        </script>
        <p>出典:<a href="https://www.e-stat.go.jp/stat-search/files?page=1&layout=datalist&toukei=00600330&tstat=000001078083&cycle=8&year=20161&month=0&result_back=1&second=1&second2=1">e-stat 自動車輸送統計調査 営業用バス（乗合・貸切）都道府県別輸送量</a></p>

        <div>
            <p class="mb-5">上のグラフは各年度ごとの営業バスによる輸送人数の推移を表したものです。
            元の数に対して変化の量が少ないため、分かりづらくなりましたが、全体を通してみると営業バスによる輸送人数は年々微増しているという結果となりました。
            昔の年度から、バスの生産台数や輸送人数はコンスタントに増加傾向であるため、この先も増加を続けることが予想されますが、何か革新的なものがない限り、これらの数字が大きく伸びることはないかもしれません。</p>
        </div>
        
        <h4 class="alert alert-info">各輸送機関の輸送人数の割合</h4>
        <p>以下の図は輸送機関別の旅客輸送量を円グラフで表したものです。JRと民鉄を合わせて、旅客輸送量のおよそ8割を鉄道が占めていることがわかります。なお、残り20%を占める自動車の値には、乗用車とバスを合わせた値が入っております。旅客輸送量でみると、鉄道や自動車でほぼ全体を占めることとなり、航空機や旅客戦の輸送量はわずかであることがわかります。</p>
         <div id="chart_div" style="width:400; height:300"></div>

    <!--Load the AJAX API-->
    <script src="https://www.google.com/jsapi"></script>
    <script>
        // Load the Visualization API and the piechart package.
        google.load('visualization', '1.0', {
            'packages': ['corechart'],
            'language': 'ja'
        });

        // Set a callback to run when the Google Visualization API is loaded.
        google.setOnLoadCallback(drawChart);

        // Callback that creates and populates a data table,
        // instantiates the pie chart, passes in the data and
        // draws it.
        function drawChart() {

            // Create the data table.
            var data = new google.visualization.DataTable();
            data.addColumn('string', '輸送機関');
            data.addColumn('number', '利用人数');
            data.addRows([
          ['JR', 9132018],
          ['民鉄', 14981505],
          ['自動車', 6031303],
          ['航空機', 96063],
          ['旅客船', 78148]
        ]);

            // Set chart options
            var options = {
                'title': '平成27年度における輸送機関別旅客輸送量',
                // 画像の横幅、縦幅を固定したい場合は、以下をコメントアウト
                'width': 600,
                'height': 400,
                // その多のオプション
                // 'legend': "left",
                // 'is3D':true,
            };

            // Instantiate and draw our chart, passing in some options.
            var chart = new google.visualization.PieChart(document.getElementById('chart_div'));

            // The select handler. Call the chart's getSelection() method
            function selectHandler() {
                var selectedItem = chart.getSelection()[0];
                if (selectedItem) {
                    var topping = data.getValue(selectedItem.row,0);
                    // data.getValue(selectedItem.row,1) に変更するとどうなるでしょう？
                    alert('The user selected ' + topping);
                }
            }

            // Listen for the 'select' event, and call my function selectHandler() when
            // the user selects something on the chart.   
            google.visualization.events.addListener(chart, 'select', selectHandler);
            chart.draw(data, options);
        }
    </script>
     <p>出典:<a href="https://www.e-stat.go.jp/stat-search/files?page=1&layout=datalist&toukei=00600460&bunya_l=10&tstat=000001016696&cycle=8&year=20151&month=0&tclass1=000001067591&result_back=1&result_page=1&second=1&second2=1">e-stat 輸送機関別旅客輸送量(全国輸送量)</a></p>
    <h4 class="alert alert-info">訪日外国人の都道府県別訪問数</h4>
        <p>以下の図は平成28年度における、観光・レジャー目的の訪日外国人の都道府県別訪問数(回答数)を表したものです。主要な空港のある都市を中心として、その周辺の都市にも多く観光客が訪れていることがわかります。</p>
        <p>愛知県やその周辺は中心都市の中では訪問数が少ないですが、中部運輸局では、近年「昇龍道プロジェクト」という日本の自然や歴史を巡るツアーの推進をしており、訪問数も伸びてきているとのことなので、今後に期待ができそうです。</p>
     <div id="drawChartRuby" style="width: 1200px; padding: 0; margin: 0; border: 0;"></div>
    <div id="drawChartPHP" style="width: 1200px; padding: 0; margin: 0; border: 0;"></div>
    <script src="https://www.google.com/jsapi"></script>
    <script>
        // http://qiita.com/sadapon2008/items/deeb7cf017bcceecc9b5
        // を引用し、修正を加えたもの
        
        // Load the Visualization API and the piechart package.
        google.load('visualization', '1.0', {
            'packages': ['geochart'],
            'language': 'ja'
        });

        google.setOnLoadCallback(graphChart);

        function graphChart() {
            var data_ruby = google.visualization.arrayToDataTable(
[
['都道府県', '訪日外国人の訪問数'],
['北海道', 2351],
['青森', 113],
['岩手', 54],
['宮城', 169],
['秋田', 59],
['山形', 59],
['福島', 39],
['茨城', 78],
['栃木', 307],
['群馬', 101],
['埼玉', 166],
['千葉', 8969],
['東京', 11031],
['神奈川', 2081],
['新潟', 123],
['富山', 249],
['石川', 593],
['福井', 28],
['山梨', 1279],
['長野', 668],
['岐阜', 817],
['静岡', 1144],
['愛知', 1816],
['三重', 120],
['滋賀', 111],
['京都', 8578],
['大阪', 11516],
['兵庫', 1758],
['奈良', 1946],
['和歌山', 338],
['鳥取', 61],
['島根', 54],
['岡山', 198],
['広島', 1029],
['山口', 389],
['徳島', 30],
['香川', 214],
['愛媛', 81],
['高知', 41],
['福岡', 4244],
['佐賀', 255],
['長崎', 941],
['熊本', 571],
['大分', 1857],
['宮崎', 72],
['鹿児島', 219],
['沖縄', 2309]
]
            );

        
            var option = {
                region: 'JP',
                resolution: 'provinces',
                colorAxis: {
                    colors: ['white', 'blue', '#00853f', 'black', 'yellow', '#e31b23']
                },
                backgroundColor: '#81d4fa',
                datalessRegionColor: '#f8bbd0',
                defaultColor: '#f5f5f5'
            };

            var graph_ruby = new google.visualization.GeoChart(document.getElementById('drawChartRuby'));
            graph_ruby.draw(data_ruby, option);

            var graph_php = new google.visualization.GeoChart(document.getElementById('drawChartPHP'));
            graph_php.draw(data_php, option);
        }
    </script>
        <p>出典:<a href="https://www.e-stat.go.jp/stat-search/files?page=1&layout=datalist&toukei=00601030&bunya_l=10&tstat=000001079655&cycle=7&year=20160&month=0&result_back=1&result_page=1&second=1&second2=1">e-stat 訪日外国人消費動向調査2016</a></p>
        
           <h4 class="alert alert-info">訪日外国人の旅行目的</h4>
        <p>下の図は2016年に訪日外国人が日本の観光で行ったことについて、複数回答を可としてアンケート調査を行ったものです。グラフを見てみると、日本食を食べる、温泉入浴、自然・景勝地観光などといった日本ならではの自然や文化を体感することを目的としている観光客が多いことがわかりました。</p><p>また、映画・アニメゆかりの地への訪問、いわゆる聖地巡礼や日本のポップカルチャーの体験を目的としている人も、全体の割合の中では少なめとはいえ一定数存在することがわかりました。Cool Japanとして漫画やアニメが推進されていってますが、それらの文化が徐々に外国にも浸透しつつあるように感じられました。</p>

        <div id="target06"></div>
        <script src="https://www.gstatic.com/charts/loader.js"></script>
        <script>
            (function() {
                'use strict';

                function drawChart() {
                    var target = document.getElementById('target06');
                    var data;
                    var options = {
                        title: '訪日外国人の旅行目的',
                        width: 1300,
                        height: 500,
                        isStacked: true
                    };
                    var chart = new google.visualization.ColumnChart(target06);
                    data = new google.visualization.arrayToDataTable([
                        ['したこと', '人数'],
                        ['日本食を食べる', 22423],
                        ['日本のお酒を飲む', 11465],
                        ['旅館への宿泊', 7647],
                        ['温泉入浴', 8982],
                        ['自然・景勝地観光', 16279],
                        ['繁華街の街歩き', 17843],
                        ['ショッピング', 19937],
                        ['美術館・博物館', 5028],
                        ['テーマパーク', 5432],
                        ['スキー・スノーボード', 582],
                        ['ゴルフ等その他スポーツ', 419],
                        ['舞台鑑賞', 1026],
                        ['スポーツ観戦', 364],
                        ['自然体験ツアー', 1418],
                        ['四季の体感', 2348],
                        ['映画・アニメゆかりの地への訪問', 1173],
                        ['歴史・伝統文化の体験', 5406],
                        ['日本の日常生活体験', 4724],
                        ['日本のポップカルチャー', 3685],
                        ['治療・検診', 137],
                        ['その他', 29]
                    ]);

                    chart.draw(data, options);
                }
                google.charts.load('current', {
                    packages: ['corechart']
                });
                google.charts.setOnLoadCallback(drawChart);
            })();

        </script>
           <p>出典:<a href="https://www.e-stat.go.jp/stat-search/files?page=1&layout=datalist&toukei=00601030&bunya_l=10&tstat=000001079655&cycle=7&year=20160&month=0&result_back=1&result_page=1&second=1&second2=1">e-stat 訪日外国人消費動向調査2016</a></p>
               <h4 class="alert alert-info">訪日外国人の出発前の観光情報源</h4>
        <p>下の図は2016年において、訪日外国人がどのように情報収集を行ったかについて複数回答を可としてアンケート調査をしたものです。各種HPやSNSなど、主にインターネットで情報収集を行っていることがわかります。グラフの項目内で注目すべきは個人ブログやSNS、親族や知人への聴取が特に高いという点だと思います。これらは、それぞれ個人の体験をもとに描かれたもので、おすすめ観光地の感想だけではなく、観光局や施設の紹介ページに載りきらないような細かいことまで書かれてる場合もあります。こうした実体験をもとにしたライブ感のある情報が安心感や旅行を楽しみにする気持ちを生むのではないかと思います。</p>

        <div id="target07"></div>
        <script src="https://www.gstatic.com/charts/loader.js"></script>
        <script>
            (function() {
                'use strict';

                function drawChart() {
                    var target = document.getElementById('target07');
                    var data;
                    var options = {
                        title: '訪日外国人の情報源',
                        width: 1300,
                        height: 500,
                        isStacked: true
                    };
                    var chart = new google.visualization.ColumnChart(target07);
                    data = new google.visualization.arrayToDataTable([
                        ['日本政府観光局HP', '人数'],
                        ['日本観光局HP', 3401],
                        ['旅行会社HP', 3953],
                        ['宿泊施設HP', 3369],
                        ['航空会社HP', 2180],
                        ['地方観光協会HP', 1199],
                        ['宿泊予約サイト', 3017],
                        ['口コミサイト', 3011],
                        ['SNS', 4678],
                        ['個人のブログ', 10407],
                        ['動画サイト', 1350],
                        ['その他インターネット', 3152],
                        ['日本政府観光局の案内所', 995],
                        ['旅行会社パンフレット', 2247],
                        ['旅行ガイドブック', 4951],
                        ['自国の親族・知人', 4239],
                        ['日本在住の親族・知人', 2277],
                        ['旅行の展示会', 221],
                        ['テレビ番組', 1690],
                        ['新聞', 378],
                        ['旅行専門誌', 2253],
                        ['その他雑誌', 212],
                        ['その他', 466],
                        ['特になし', 1763]
                    ]);

                    chart.draw(data, options);
                }
                google.charts.load('current', {
                    packages: ['corechart']
                });
                google.charts.setOnLoadCallback(drawChart);
            })();

        </script>
           <p>出典:<a href="https://www.e-stat.go.jp/stat-search/files?page=1&layout=datalist&toukei=00601030&bunya_l=10&tstat=000001079655&cycle=7&year=20160&month=0&result_back=1&result_page=1&second=1&second2=1">e-stat 訪日外国人消費動向調査2016</a></p>
    </main>
    <footer class="text-center text-muted py-4">
        Copyright cyan0708
    </footer>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
</body>

</html>
